<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>example</title>
	<style type='text/css'>
		html { font-family:Helvetica; color:#222; }
		h1 { color:steelblue; font-size:30px; margin-top:24px; }
		button{ margin:20px; font-size:40px; }
		.logLine { border-bottom:1px solid #ccc; padding:4px 2px; font-family:courier; font-size:11px; }

	</style>

	<script type="text/javascript">
		function btnAction(e) {
			var msgBody = {};
			msgBody.handler = 'common';
			msgBody.action = 'nativeLog';
			msgBody.param = {
				name: 'redye',
				age: 28
			};
			msgBody.callbackFun = 'callbackFun';
			msgBody.callbackId = 1;
			window.webkit.messageHandlers.native.postMessage(msgBody);
		}

		function callbackFun(callbackId, response) {
			var p = document.getElementById('log').appendChild(document.createElement('p'))
			p.innerHTML = typeof response === 'string' ? response : JSON.stringify(response);
		}

		window.eventDispatcher: function(eventId, response) {
			if (eventId === 'applicationEnterForeground') {
				var p = document.getElementById('log').appendChild(document.createElement('p'))
				p.innerHTML = 'applicationEnterForeground'
			} else if (eventId === 'applicationEnterBackground') {
				var p = document.getElementById('log').appendChild(document.createElement('p'))
				p.innerHTML = 'applicationEnterBackground'
			}
		}
	</script>

</head>

<body>
	<h1>WKWebView Demo</h1>
	<div id='buttons'>
		<button id='button' onclick="btnAction()">按钮</button>
		<button id='button' onclick="callbackFun(1, 'fjhaksdh')">按钮2</button>
	</div> 
	<div id='log'></div>
</body>
</html>
